# Project 1: Mass Customization (SAT solver)

## Solution Strategy

What we did initially: no intermediate unit/pure literal removals -> didn't work

What we changed: intermediate unit/pure literal cleanups as much as possible

Added: multiprocessing

Added: mixed strategy (without and with purely random literal choice)

## Experiments and Results

`logs` directory contains all the log files for experiments with different strategies (Note that all log files are results from independent instances of `runAll.sh`):

- Log files starting with `uniform` prefix indicate the results where `heurDistribution` is [0, 0.25, 0.25, 0.25, 0.25]. That is, mixed strategy only chooses deterministic heuristics uniformly.
- Log files starting with `best` prefix indicate which heuristics finished each case first. (Such files can be generated by commenting out line 314, uncommenting lines 13 and 58 of `src/sat_solver.py`, and running `runAll.sh`.)
- Based on the result from `best` log files, `heurDistribution` was chosen. We gave more weights to heuristics that succeeded on more instances and heuristics that succeeded more on instances with greater time to solve.
- Log files starting with `weighted` prefix indicate the results where `heurDistribution` is [0, 0.5, 0.2, 0.2, 0.1].
- Log files starting with `randomAndWeighted` prefix indicate the results where `heurDistribution` is [0.03, 0.47, 0.2, 0.2, 0.1].

For most times, one deterministic strategy outperformed other deterministic strategies and mixed strategy, even though the best deterministic strategy is different for each instance. However, there were some instaces where randomness seemed to make the search more efficient:

- `uniform1.log`: `C1597_081`
- `weighted1.log`: `C1597_060`
- `weighted2.log`: `C1597_060`
- `weighted3.log`: `U50_4450_035`
- `randomAndWeighted1.log`: `C1597_081`

The best overall total time was from `weighted1.log`, so it is copied in the root directory as `results.log`. (+ The current strategy in the source code is the one used in `weighted` logs.) Note that all the improved instances were satisfiable. This was somehow expected since solving `UNSAT` instances means that we need to make sure that **all branches** fail; it must be generally harder to find variables that would fail early, if exist.

## More ideas
## PIIs
(Aaron, awang167, a)

(Junewoo, jpark49, Computer)

## Time spent

12 hrs = 3 hrs (for naive implementation) + 4 hrs (for trying various strategies) + 4 hrs (for experiments) + 1hr (for report)